\section{Детерминированные функции. Информационное дерево. Вес детерминированной функции. Ограниченно-детерминированные функции. Состояния, диаграмма переходов (диаграмма Мура), таблица переходов и канонические уравнения ограниченно-детерминированной функции.}

\begin{definition}
    \textit{Алфавит} --- набор символов $A = \{a_1, \ldots, a_\nu\}$. \textit{Словом} $w$ над алфавитом $A$ будем называть произвольную конечную последовательность символов алфавита $A$. Обозначим $A^n$ --- множество всех слов длины $n$, $A^{\infty}$ --- множество всех бесконечных последовательностей символов.
\end{definition}

\begin{definition}
    Пусть есть два алфавита $A=\{a_1, \ldots, a_p\}$, $B = \{b_1, \ldots, b_q\}$.\\
    Функция $f:A^{\infty} \to B^{\infty}$ переводит некоторое бесконечное слово $x = (x(1), x(2), \ldots, x(t), \ldots)$ в $y = f(x) = (y(1), y(2), \ldots, y(t), \ldots)$. Говорят, что алфавит $A$ является \textit{входным}, а $B$ --- \textit{выходным}
\end{definition}

\begin{definition}
    Функция $f$ называется \textit{детерминированной}, если 
    \[
        \forall k \in \N \quad \forall x',\,x'' \in A^{\infty} \quad \forall i = 1, \ldots, k \quad x'(i) = x''(i),\, y'=f(x'),\, y''=f(x'')
    \] выполнено $y'(i) = y''(i) \quad \forall i = 1,\ldots, k$. Иначе говоря $y(t)$ выражается как функция от $x(1), \ldots, x(t)$.
\end{definition}

Детерминированные функции можно задавать при помощи информационных деревьев.

\begin{definition}
    \textit{Информационным деревом в алфавитах $A$ и $B$} называется бесконечное ориентированное дерево, удовлетворяющее следующим условиям:
    \begin{enumerate}[nolistsep]
        \item Существует вершина $v_0$ --- \textit{корень} информационного дерева, в которую не входит ни одно ребро;
        \item В каждую вершину, отличную от корневой, входит ровно одно ребро;
        \item Из каждой вершины выходит $p = |A|$ рёбер, которым приписаны пары $(a_1, b_{i_1}), \ldots, (a_p, b_{i_p})$.
    \end{enumerate}
    Таким образом, любая вершина дерева достижима из корневой и каждой выходящей из корня бесконечной ориентированной цепи в информационном дереве соответствует пара последовательностей $\alpha \in A^{\infty}$, $\beta \in B^{\infty}$, которые составлены из приписанных рёбрам этой цепи букв алфавитов. Поэтому каждое информационное дерево задаёт детерминированную функцию и обратно, каждая детерминированная функция задаёт информационное дерево.
\end{definition}

Рассмотрим в дереве $T$ произвольную вершину $v$ и рассмотрим бесконечное поддерево $T_v$ дерева $T$ с вершиной $v$ в качестве корня, содержащее все вершины дерева $T$, достижимые из вершины $v$. Тогда $T_v$ задаёт детерминированную функцию.

\begin{definition}
    Два информационных дерева $T_1$ и $T_2$, задающих одну и ту же детерминированную функцию называются \textit{эквивалентными} ($T_1 \sim T_2$). Иными словами, существует изоморфизм соответствующих бесконечных деревьев, сохраняющий пометки на рёбрах.
\end{definition}

\begin{definition}
    Детерминированная функция $f(x)$ называется \textit{ограниченно-детерминированной функцией}, если в информационном дереве, задающем функцию $f$, содержится лишь конечное число попарно неэквивалентных информационных поддеревьев. Максимальное число попарно неэквивалентных поддеревьев в информационном дереве, задающем о.-д. функцию $f$ называется \textit{весом} функции $f$.
\end{definition}

Пусть $f(x)$ --- о.-д. функция веса $r$, $T$ --- информационное дерево, задающее $f$, $v_0$ --- его корень, а $v_0, \ldots, v_{r-1}$ --- корни попарно неэквивалентных деревьев. Занумеруем все вершины дерева $T$ числами $0, 1, \ldots, r-1$ следующим образом:
\begin{enumerate}[nolistsep]
    \item вершины $v_0, \ldots, v_{r-1}$ нумеруются числами $0, 1, \ldots, r-1$.
    \item корни эквивалентных информационных поддеревьев нумеруются одинаково.
\end{enumerate}

\begin{definition}
    Номера $0, 1, \ldots, r-1$ называются \textit{состояниями} функции $f$, $Q=\{0, \ldots, r-1\}$ --- множество состояний.
\end{definition}

\begin{definition}
    \textit{Усечённым деревом} называется конечное ориентированное дерево, которое является подграфом дерева $T$ с сохранением всех пометок на вершинах и рёбрах, содержащее $v_0$ --- корень дерева $T$, и, кроме того, из каждой неконцевой вершины усечённого дерева выходит $p=|A|$ рёбер и любая ориентированная цепь, выходящая из корня содержит ровно 2 вершины с одинаковыми номерами, а никакое его собственное поддерево этим свойством не обладает.
\end{definition}

    О.-д. функции удобно задавать  \textit{диаграммами Мура}, получающиеся из усечённых деревьев отождествлением вершин с одинаковыми номерами.

\begin{definition}
    \textit{Диаграмма переходов} (\textit{диаграмма Мура}) --- это конечный ориентированный граф с $r$ вершинами, которые занумерованы числами $0, \ldots, r-1$, и $p\cdot r$ рёбрами; при этом из каждой вершины графа выходит $p$ рёбер, которым приписаны пары $(a_1, b_{i_1}), \ldots, (a_p, b_{i_p})$, где $\{a_1, \ldots, a_p\} =~A$, $b_{i_j} \in B \quad \forall j = 1, \ldots, p$. Кроме того, вершина этого графа, соответствующая корню исходного информационного дерева $T$ обычно помечается $*$.
\end{definition}

С диаграммами переходов можно связать две функции, $F:A\times Q \to B$ и $G:A\times Q \to Q$, которые называются \textit{функциями выходов и переходов} соответственно. Значения этих функций, для всех $a_i\in A,\, q_j \in Q$ находятся в соответствии с рис. 8.

\begin{figure}[h]
    \centering
    \begin{tikzpicture}
        %Nodes
        \node[place] (p1) at (-3, 0) {$q_j$};
        \node (p2) [draw,shape=ellipse] at (2, 0) {$G(a_i, q_j)$};
        %Lines
        \draw[arrows = {-Latex[width=3pt, length=3pt]}] (p1) -- node[above=1mm] {$(a_i, F(a_i, q_j))$} (p2);
    \end{tikzpicture}
    \caption{Определение функций $F$ и $G$}
\end{figure}

В результате получаем способ задания о.-д. функций с помощью таблиц переходов (см. рис. 9).

\begin{figure}[h]
    \centering
    \begin{tabular}{|c|c||c|c|}
        \hline
        $x$ & $q$ & $F$ & $G$ \\
        \hline
        $\ldots$ & $\ldots$ & $\ldots$ & $\ldots$\\
        $a_i$ & $q_j$ & $F(a_i, q_j)$ & $G(a_i, q_j)$\\
        $\ldots$ & $\ldots$ & $\ldots$ & $\ldots$\\
        \hline
    \end{tabular}
    \caption{Таблица переходов}
\end{figure}

О.-д. функции можно задавать при помощи \textit{канонических уравнений}:
\[
    \begin{cases}
        y(t) = F(x(t), q(t));\\
        q(t+1) = G(x(t), q(t));\\
        q(1) = q_0,
    \end{cases}
\]
где $x(t)\in A$, $y(t) \in B$, $q(t)\in Q$ при всех $t = 1, 2,\ldots$; $q_0$ --- номер вершины в диаграмме переходов, которая отмечена $*$, $q_0 \in Q$.

