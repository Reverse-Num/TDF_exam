\section{Автоматные функции от нескольких переменных. Операция суперпозиции на автоматных функциях. Отсутствие конечной полной системы автоматных функций относительно операции суперпозиции.}

\begin{definition}
    \textit{Конечный автомат с $n$ входами}, занумерованными числами от 1 до $n$ --- объект $V = (A, B, Q, F, G)$. В момент времени $t = 0,1,\ldots$, автомат находится в состоянии $q(t)$ из \textit{алфавита состояний} $Q=\{q_1, \ldots, q_{\lambda}\}$, на его входы $1, \ldots, n$ подаются соответственно $x_1(t), \ldots, x_n(t)$ из \textit{входного алфавита} $A=\{a_1, \ldots, a_p\}$, а на выходе получается $y(t)$ из \textit{выходного алфавита} $B=\{b_1, \ldots, b_q\}$. При этом входные символы $x_1(t), \ldots, x_n(t)$ и состояние автомата $q(t)$ однозначно определяют выходной символ $y(t)$ и состояние автомата в следующий момент времени:
    \[
        \begin{cases}
            y(t) = F(x_1(t), x_2(t), \ldots, x_n(t), q(t)),\\
            q(t+1) = G(x_1(t), x_2(t), \ldots, x_n(t), q(t)),
        \end{cases}
    \]
    где функции $F:A^n\times Q \to B$ и $G:A^n\times Q \to Q$ называются \textit{функциями выходов и переходов} соответственно. Автомат называется \textit{инициальным}, если задано его начальное состояние $q(0)$.
\end{definition}

Аналогично понятию автоматной функции строится понятие автоматной функции от нескольких переменных.

\begin{definition}
    Функция $f(x_1, \ldots, x_n)$, определённая на множестве $(A^\infty)^n$, и принимающая значения из $B^\infty$ называется \textit{автоматной}, если существует конечный инициальный автомат с $n$ входами, вычисляющий эту функцию.
\end{definition}

\begin{remark}
    Описанный выше автомат с $n$ входами можно рассматривать, как автомат с одним входом, где символ $x(t)=(x_1(t), \ldots, x_n(t)) \in (A^n)^\infty$.
\end{remark}

\begin{remark}
    Аналогичным образом можно ввести понятие автомата с $n$ входами и $m$ выходами. Только вместо функции выходов $F$ будет набор функций $F_i:A^n\times Q\to B$. Или же в каноническом виде:
    \[
        \begin{cases}
            y_1(t) = F_1(x_1(t), \ldots, x_n(t), q(t)), \\
             \qquad \ldots\\
            y_m(t) = F_m(x_1(t), \ldots, x_n(t), q(t)), \\
            q(t+1) = G(x_1(t), x_2(t), \ldots, x_n(t), q(t)).
        \end{cases}
    \]
    Автоматы с $n$ входами и $m$ выходами вычисляют упорядоченный набор автоматных функций.
\end{remark}

\begin{definition}
    Обозначим $P_A$ --- множество всех автоматных функций, для которых входной и выходной алфавиты равны $A$. Пусть $F=\{f_1^{(n_1)}(x_1, \ldots, x_{n_1}), \ldots, f_k^{(n_k)}(x_1, \ldots, x_{n_k})\} \subseteq P_A$. Аналогично понятию схемы из функциональных элементов вводится понятие \textit{схемы из автоматных элементов в базисе} $F$ путём рассмотрения конечного ориентированного графа без ориентированных циклов и т.\,д., вершины, которым приписаны переменные, называются \textit{входами} схемы, вершины, которым приписаны символы $f_i^{(n_i)}$, называются \textit{элементами} (\textit{автоматными элементами}).
\end{definition}

Очевидно, что функции, которые реализуются схемами из автоматных элементов в базисе $ B \subseteq\nobreak P_A$, являются автоматными, т.\,е. принадлежат $P_A$.

\begin{definition}
    Пусть $F\subseteq P_A$. \textit{Замыканием} системы функций $F$ называется множество $\Sigma(F)$, состоящее из всех функций, которые реализуются схемами из автоматных элементов в базисе $F$. Система $F$ называется \textit{полной}, если $\Sigma(F) = P_A$.
\end{definition}

\begin{lemma}
    Пусть $k\in \N$, $F$ --- конечная система функций из $P_A$, каждая из которых имеет не более $k$ состояний, $S$ --- схема из автоматных элементов в базисе $F$, $f(x_1, \ldots, x_n)$ --- автоматная функция, реализуемая схемой $S$, $\alpha_1, \ldots, \alpha_n$ --- последовательности из $A_k$. Тогда последовательность $\beta = f(\alpha_1, \ldots, \alpha_n) \in A_k$.
\end{lemma}

\begin{proof}
    Доказательство проведём индукцией по количеству элементов в схеме --- $N$.
    \begin{enumerate}
        \item База $N=1$. Обозначим $\alpha_1, \ldots, \alpha_n$ --- входные последовательности с минимальными периодами $d_1, \ldots d_n$. Поскольку автомат с $n$ входами можно рассматривать, как автомат с одним входом, на который поступает последовательность $\alpha = (\alpha_1, \ldots, \alpha_n) \in (A^n)^{\infty}$. Очевидно, что $\alpha$~--- периодическая последовательность с минимальным периодом $d= \lcm(d_1, \ldots, d_n)$. Поэтому по лемме о периодической последовательности на выходе выдаётся периодическая последовательность $\beta = f(\alpha) \in A^{\infty}$ с периодом $\lambda_1 d$, где $\lambda_1 \leqslant \lambda \leqslant k$. $d$ не имеет простых делителей, больших $k$, поскольку $d_i$ не имеет простых делителей, больших $k$. А значит, $\lambda_1 d$ не имеет простых делителей, больших $k$. А значит, $\beta \in A_k$.
        \item Докажем для $N+1$. Выделим в схеме $S$ <<последний автомат>>, с которого считывается выход. На его входы по предположению передаются функции из $A_k$, а значит, и последний автомат выдаст последовательность из $A_k$.
    \end{enumerate}
\end{proof}

\begin{theorem}
    Пусть $|A|\geqslant 2$. Тогда в $P_A$ не существует конечных полных систем автоматных функций.
\end{theorem}

\begin{proof}
    Предположим, что в $P_A$ существует конечная полная система $F$. Обозначим через $k$ максимальное число состояний у функции системы $F$.
    Пусть $p$ --- простое число, такое, что $p>k$, а $\beta$ --- периодическая последовательность из $A^\infty$ с периодом $p$ следующего вида:
    \[
        \beta = (\underbrace{a_1, \ldots, a_1}_{p-1}, a_2, \underbrace{a_1, \ldots, a_1}_{p-1}, a_2, \ldots),
    \]
    где $a_1, a_2 \in A$, $a_1 \neq a_2$. Очевидно, что $\beta \notin A_k$. Рассмотрим функцию $f:A^\infty \to A^\infty$, которая на всех входных последовательностях принимает $\beta$.
    
    Так как $F$ полна по предположению, то существует схема $S$ в базисе $F$, реализующая эту функцию. Подадим на неё последовательность $\gamma = (a_1, a_1, \ldots)$ --- постоянную (с периодом 1), а значит, $\gamma \in A_k$. В силу предыдущей леммы $f(\gamma) \in A_k$, но $\beta \notin A_k$, противоречие.
\end{proof}